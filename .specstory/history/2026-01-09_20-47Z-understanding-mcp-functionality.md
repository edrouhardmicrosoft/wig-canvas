<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- vscode Session f340b3de-4e83-4427-a68d-021d6992401d (2026-01-09 20:47Z) -->

# Understanding MCP Functionality (2026-01-09 20:47Z)

_**User (2026-01-09 20:47Z)**_

How does mcp work

---

_**Agent (model copilot/claude-opus-4.5)**_

MCP (Model Context Protocol) is an open protocol that standardizes how AI applications connect to external data sources and tools. Here's how it works:

## Core Architecture

MCP follows a **client-server architecture**:

1. **MCP Hosts** - Applications like Claude Desktop, IDEs, or AI tools that want to access external data/tools
2. **MCP Clients** - Protocol clients that maintain 1:1 connections with servers
3. **MCP Servers** - Lightweight programs that expose specific capabilities (tools, resources, prompts) through the standardized protocol

## Key Primitives

MCP servers can expose three main types of capabilities:

| Primitive | Description | Example |
|-----------|-------------|---------|
| **Tools** | Functions the AI can call | `search_database()`, `send_email()` |
| **Resources** | Data sources the AI can read | Files, database records, API responses |
| **Prompts** | Pre-built prompt templates | Code review templates, analysis workflows |

## Communication Flow

```
┌─────────────┐     JSON-RPC 2.0      ┌─────────────┐
│   MCP Host  │ ◄──────────────────► │  MCP Server │
│  (AI App)   │    (stdio/SSE/HTTP)   │   (Tool)    │
└─────────────┘                       └─────────────┘
```

1. The host application initializes an MCP client
2. Client connects to one or more MCP servers
3. Servers advertise their capabilities (tools, resources, prompts)
4. When the AI needs external data/actions, it calls the appropriate server
5. Results are returned through the protocol

## Transport Options

- **stdio** - Standard input/output (local processes)
- **HTTP with SSE** - Server-Sent Events for remote servers
- **Streamable HTTP** - Modern HTTP-based transport

## Example: Tool Invocation

```json
// Client requests available tools
{ "method": "tools/list" }

// Server responds with tool definitions
{ "tools": [{ "name": "get_weather", "inputSchema": {...} }] }

// Client calls a tool
{ "method": "tools/call", "params": { "name": "get_weather", "arguments": { "city": "Seattle" } } }

// Server returns result
{ "content": [{ "type": "text", "text": "72°F, Sunny" }] }
```

## Benefits

- **Standardization** - One protocol for many integrations
- **Security** - Controlled access to external systems
- **Composability** - Mix and match servers for different capabilities
- **Language agnostic** - SDKs available for TypeScript, Python, Java, C#, etc.

Would you like me to help you implement an MCP server or client in your project?

---

